<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Spriterraria</title>
    <link rel="shortcut icon" href="images/favicon.png" type="image/png">
    <link rel="stylesheet" href="style.css">
    <!-- Yandex.Metrika counter -->
    <script type="text/javascript" >
   (function(m,e,t,r,i,k,a){m[i]=m[i]||function(){(m[i].a=m[i].a||[]).push(arguments)};
   m[i].l=1*new Date();k=e.createElement(t),a=e.getElementsByTagName(t)[0],k.async=1,k.src=r,a.parentNode.insertBefore(k,a)})
   (window, document, "script", "https://mc.yandex.ru/metrika/tag.js", "ym");

   ym(89310424, "init", {
        clickmap:true,
        trackLinks:true,
        accurateTrackBounce:true
     });
    </script>
    <noscript><div><img src="https://mc.yandex.ru/watch/89310424" style="position:absolute; left:-9999px;" alt="" /></div></noscript>
    <!-- /Yandex.Metrika counter -->
</head>
<body>
    <header>
        <img src="images/upd logo texturepack website.png" alt="Логотип сайта" id="terralogo">
        <div class="aboutguides"></div>
        <nav>
            <a href="#" class="guidelinks">WIP1</a>
            <a href="#" class="guidelinks">WIP2</a>
            <a href="#" class="guidelinks">WIP3</a>
            <a href="#" class="guidelinks">WIP4</a>
        </nav>
    </header>
    <main>
        <article>
            <div id="emptyspace"></div>
        </article>
        
        <article id="introtextbox">
            <h1>
                Предисловие
            </h1>
            <p>
                Итак, если вы это читаете - значит вы хотите узнать, как создавать текстурпаки на террарию ведь так? В этом руководстве вы по пунктам узнаете как это сделать.
            </p>
        </article>
        
        <article id="screenshot1">
            <img src="images/Работа TConvert.PNG" alt="Открытый TConvert">
        </article>
        
        <article id="TConverttextbox">
            <h1>
                1. Извлечение ресурсов игры
            </h1>    
            <p>
                Чтобы редактировать ресурсы игры - нам надо получить к ним доступ. И в этом нам поможет программа TConvert, скачать её можно по <a href="https://forums.terraria.org/index.php?threads/tconvert-extract-content-files-and-convert-them-back.61706/" class="textboxlinks">ссылке</a>. Она позволяет распаковать ресурсы игры из их формата XNB в PNG (если это спрайты например), или изменить формат на XNB обратно если нам это вдруг нужно. Чтобы распаковать ресурсы игры - нам нужно провести путь программе к ним. А именно к папке Content в файлах игры, после этого назначить папку в которую ресурсы будут распакованы (это Output), и откуда распакованы, а именно папка Content (это Input). Выбрать что именно нам нужно Images, Sounds, Fonts, Wave bank, и нажать Extract (см. скриншот выше). Распаковка может быть долгой, учитывая сколько файлов из игры мы извлечаем.
            </p>
        </article>
        
        <article id="screenshot2">
            <img src="images/Пример предмета и проджектайла на кинжале.png" alt="Кинжал и его проджектайл">
            <img src="images/Перерисовка предмета с проджектайлом и экстра на примере воздушного змея.png" alt="Воздушный змей и его части">
        </article>
        
        <article id="howtospritetextbox">
            <h1>
                2. Как изменять спрайты предметов
            </h1>
            <p>
                Для начала надо выбрать программу в которой мы будем работать, это может быть как обычный photoshop так и его аналоги (gimp, paint.net). Но лучше всего подойдет специальная программа для этого, и программа эта - acesprite. Она специально создана для пиксельной анимации, и для наших целей идеальна. В игре спрайты закреплены по ID предмета, проджектайла, или NPC, поэтому всё что нужно так это просто дать нашему спрайту нужный нам ID чтобы заменить именно что мы хотим. Список ID предметов, NPC, и прочего можно найти <a href="https://terraria.wiki.gg/wiki/Data_IDs" class="textboxlinks">по этой ссылке</a>. Для примера изменения спрайтов используем медный кинжал, и воздушный змей костяного змея. У кинжала кроме его предмета (Item), есть и проджектайл (Projectile), который и является самим кинжалом при атаке. Некоторые оружия ближнего боя используют проджектайлы не только стреляя ими, например такие как кинжалы и копья. Воздушный змей же состоит из двух спрайтов (ну кроме его предмета в инвентаре), а именно голова проджектайл, и остальное тело змея - это экстра (Extra). Спрайты и их названия в файлах вы можете увидеть на скриншоте выше.
            </p>
        </article>
        
        <article id="screenshot3">
            <img src="images/Спрайты ошмётки и иконка на карте на примере гида.png" alt="NPC гид и его спрайты">
            <img src="images/Спрайты вуду демона и куклы вуду гида.png" alt="Спрайты вуду демона и его куклы">
        </article>
        
        <article id="howtospritenpctextbox">
            <h1>
                3. Как изменять спрайты NPC
            </h1>
            <p>
                При работе со спрайтами NPC всё точно также как с предметами, и прочим что было описано выше. У нас есть спрайт нпс, и моба (все они в файлах обозначены как NPC), а также их останков (это у нас Gore). У спрайтов NPC есть идущая сверху вниз анимация, и каждый кадр нам нужно изменить. Как пример у нас есть гид, и вуду демон, чьи спрайты мы изменили (у вуду демона ещё и куклу затронули, она у нас Item). у NPC вроде гида есть иконка на карте в игре, и меню расселения NPC. Файлы таких иконок называются HPC_Head, не забывайте про них тоже (см. скриншот выше). 
            </p>
        </article>
        
        <article id="screenshot4">
            <img src="images/Спрайты и ошмётки сегментированного врага на примере костяного змея.png" alt="Спрайты сегментированного NPC">
        </article>
        
        <article id="howtospritesegmentstextbox">
            <h1>
                4. Как изменять сегментированных NPC
            </h1>
            <p>
                Тут особо не расскажешь. Всё как у обычных NPC, только эти состоят из трёх сегментов, голова, тело, хвост (его кончик), и точно также с их останками. ID сегментов NPC, и останков (Gore) идут прямо друг за другом, от головы до хвоста (см. скриншот выше).
            </p>
        </article>
        
        <article id="screenshot5">
            <img src="images/Тайлы блоков на примере тайлов баннеров.png" alt="Устройство объектов из тайлов на примере знамени">
        </article>
            
        <article id="howtospritetilestextbox">
            <h1>
                5. Как изменять тайлы (блоки), на примере знамени
            </h1>
            <p>
                Мир террарии состоит из блоков, буквально всё, и объекты которые могут выглядеть цельно (верстак, печка, дерево, знамя) тоже разделены на блоки. блоки в файлах названы тайлами (Tiles), и если посмотреть на спрайт монолитного объекта то там он будет поделён на кусочки, которые уже в игре соединяются в одно. Поэтому просто нужно изменить спрайт каждого кусочка (тайла). Ну и если наш объект может быть взят в инвентарь, как знамя в нашем примере, то нужно изменить и его Item спрайт (см. скриншот выше).
            </p>
        </article>
    
        <article id="screenshot6">
            <img src="images/Изменение всех логотипов террарии.png" alt="Изменение логотипов игры">
        </article>
    
        <article id="howtospritelogostextbox">
            <h1>
                6. Как изменять логотипы игры
            </h1>
            <p>
                Тут особо много не сказать. В игре всего 4 логотипа на данный момент, два новых из обновления 1.4, и два старых до 1.4. Все они названы как Logo (см. скриншот выше).
            </p>
        </article>
        
        <article id="screenshot7">
            <img src="images/Внутреннее устройство папок текстурпаков.PNG" alt="Папки в текстурпаке">
            <img src="images/Внутреннее устройство файла pack json.PNG" alt="Написание файла pack.json">
            <img src="images/Демонстрация пути к папке для текстурпаков.PNG" alt="Путь к папке для текстурпаков">
        </article>
    
        <article id="texturepackfolderconfigtextbox">
            <h1>
                7. Как создать сам текстурпак
            </h1>
            <p>
                Теперь нужно создать сам текстурпак, раз со спрайтами для него мы разобрались. Сначала создайте папку и дайте ей любое название, после этого уже в ней создайте папку с названием Content, и файл pack.json. pack.json открываем блокнотом и пишем там то что на нижнем скриншоте, где изображен открытый pack.json. "Name": - это имя текстурпака, "Author": - это его автор, "Description": - это описание, "Version": - это его версия, в ней есть "major": - первая цифра версии, и "minor": вторая цифра версии. После создания этого файла наша папка начнет считаться текстурпаком. Также ещё можно создать иконку icon.png, это должна быть картинка 60 на 60 пикселей размером. В Content создаем папку Images, в которую уже вставляем все наши спрайты для текстурпака (см. скриншоты выше). После создания текстурпака нам нужно найти папку для них, а именно ResourcePacks. Она находится по пути C:\Users\*имя нашего пользователя*\Documents\My Games\Terraria, просто открываем ResourcePacks и вставляем папку нашего текстурпака туда (см. скриншот выше).
            </p>
        </article>
    
        <article id="screenshot8">
            <img src="images/Активация текстурпака и его описание.png" alt="Меню текстурпаков и их расположение">
        </article>
    
        <article id="texturepackmenutextbox">
            <h1>
                8. Меню текстурпаков в игре
            </h1>
            <p>
                После создания текстурпака нам стоит посмотреть на него в игре. Для этого в главном меню зайтите в мастерскую (workshop), и уже там зайдите в использование ресурспаков (use resourcepacks). В меню активируйте текстурпак нажав на стрелочку вправо, стрелки вверх вниз перемещают текстурпаки по их "значимости", это означает что текстурпак находящийся выше другого будет перекрывать его изменения своими, если в нижнем есть те что есть и в верхнем (спрайты заменяющие одну вещь, моба).
            </p>
        </article>
        
        <article id="screenshot9">
            <img src="images/Работа текстурпака наглядно.png" alt="Изменения текстурпака в игре">
        </article>
        
        <article id="texturepackingametextbox">
            <h1>
                9. Наши итоги
            </h1>
            <p>
                Хорошо, сегодня вы узнали как создавать свои текстурпаки. И возможно вам интересно посмотреть на конкретно тот, что был показан как пример. Тогда вот <a href="https://disk.yandex.ru/d/-JgjPbtS-Zql9A" class="textboxlinks">ССЫЛКА</a> на него. Или можете посмотреть на результат на сайте (см. коллаж выше).
            </p>
        </article>
        
        <article id="forquestions">
            <script src="https://yastatic.net/s3/frontend/forms/_/embed.js"></script><iframe src="https://forms.yandex.ru/u/62b77e736fc07a11334fb551/?iframe=1" frameborder="0" name="ya-form-62b77e736fc07a11334fb551" width="650"></iframe>
        </article>
    </main>
    <footer>
        <p>
            (c) Terraria принадлежить Re-Logic, мы ни на что не претендуем, это просто сайт с руководствами
        </p>
    </footer>
</body>
</html>